# ğŸ“ æ–‡æ¡£æ›´æ–°è¯´æ˜

## âœ… 2025-01-15 æ›´æ–°ï¼šè¿ç§»åˆ° Supabase

### ä¸»è¦å˜æ›´

é¡¹ç›®æ•°æ®åº“å·²ä»æœ¬åœ° PostgreSQL è¿ç§»åˆ° **Supabase**ï¼ˆæ‰˜ç®¡ PostgreSQLï¼‰ã€‚

### æ›´æ–°çš„æ–‡ä»¶

#### 1. é…ç½®æ–‡ä»¶

- âœ… `prisma/schema.prisma` - æ·»åŠ  `directUrl` æ”¯æŒ
- âœ… `.env.example` - æ›´æ–°ä¸º Supabase è¿æ¥å­—ç¬¦ä¸²æ¨¡æ¿

#### 2. æ–‡æ¡£

- âœ… **[Supabaseé…ç½®æŒ‡å—.md](./æŠ€æœ¯æ–‡æ¡£/Supabaseé…ç½®æŒ‡å—.md)** - æ–°å¢å®Œæ•´é…ç½®æ•™ç¨‹
- âœ… **[å¿«é€Ÿå¼€å§‹.md](./å¼€å‘æŒ‡å—/å¿«é€Ÿå¼€å§‹.md)** - æ›´æ–°ä¸º Supabase æµç¨‹
- âœ… **[ç¯å¢ƒé…ç½®.md](./å¼€å‘æŒ‡å—/ç¯å¢ƒé…ç½®.md)** - æ›¿æ¢ PostgreSQL ä¸º Supabase
- âœ… **[æ•°æ®åº“è®¾è®¡.md](./æŠ€æœ¯æ–‡æ¡£/æ•°æ®åº“è®¾è®¡.md)** - æ·»åŠ  Supabase ç›¸å…³è¯´æ˜
- âœ… **[éƒ¨ç½²æŒ‡å—.md](./éƒ¨ç½²è¿ç»´/éƒ¨ç½²æŒ‡å—.md)** - æ›´æ–°ç¯å¢ƒå˜é‡é…ç½®
- âœ… `README.md` - æ›´æ–°æŠ€æœ¯æ ˆè¯´æ˜

### ä¸ºä»€ä¹ˆé€‰æ‹© Supabaseï¼Ÿ

1. **é›¶é…ç½®éƒ¨ç½²** - æ— éœ€è‡ªå·±ç»´æŠ¤ PostgreSQL æœåŠ¡å™¨
2. **å®Œç¾é›†æˆ Vercel** - éƒ¨ç½²æ—¶è‡ªåŠ¨è¿æ¥æ•°æ®åº“
3. **å…è´¹é¢åº¦å……è¶³** - 500MB å­˜å‚¨ + 5GB å¸¦å®½/æœˆ
4. **å¼€å‘ä½“éªŒå¥½** - å†…ç½® Table Editor å’Œ SQL Editor
5. **ç”Ÿäº§å°±ç»ª** - Connection Pooling è‡ªåŠ¨å¤„ç†é«˜å¹¶å‘
6. **å…¨çƒ CDN** - å¤šåŒºåŸŸéƒ¨ç½²ï¼Œä½å»¶è¿Ÿ

### è¿ç§»æ­¥éª¤

å¦‚æœä½ æ˜¯ç°æœ‰ç”¨æˆ·ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤è¿ç§»ï¼š

#### 1. åˆ›å»º Supabase é¡¹ç›®

æŒ‰ç…§ [Supabaseé…ç½®æŒ‡å—.md](./æŠ€æœ¯æ–‡æ¡£/Supabaseé…ç½®æŒ‡å—.md) åˆ›å»ºé¡¹ç›®ã€‚

#### 2. æ›´æ–°ç¯å¢ƒå˜é‡

ä¿®æ”¹ `.env` æ–‡ä»¶ï¼š

```env
# æ—§çš„ï¼ˆæœ¬åœ° PostgreSQLï¼‰
# DATABASE_URL="postgresql://user:password@localhost:5432/promptattack"

# æ–°çš„ï¼ˆSupabaseï¼‰
DATABASE_URL="postgres://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1"
DIRECT_URL="postgres://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres"
```

#### 3. è¿ç§»æ•°æ®ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æœ‰ç°æœ‰æ•°æ®éœ€è¦è¿ç§»ï¼ŒæŸ¥çœ‹ [Supabaseé…ç½®æŒ‡å—.md](./æŠ€æœ¯æ–‡æ¡£/Supabaseé…ç½®æŒ‡å—.md#æ•°æ®è¿ç§») ä¸­çš„è¿ç§»æ–¹æ³•ã€‚

#### 4. æ¨é€ Schema

```bash
npx prisma generate
npx prisma db push
```

#### 5. éªŒè¯

```bash
npx prisma studio
```

æˆ–åœ¨ Supabase Dashboard çš„ Table Editor ä¸­æŸ¥çœ‹è¡¨ç»“æ„ã€‚

### å¸¸è§é—®é¢˜

**Q: æˆ‘èƒ½ç»§ç»­ä½¿ç”¨æœ¬åœ° PostgreSQL å—ï¼Ÿ**

A: å¯ä»¥ï¼åªéœ€ä¿æŒåŸæœ‰çš„ `DATABASE_URL` é…ç½®å³å¯ã€‚Supabase æ˜¯æ¨èæ–¹æ¡ˆï¼Œä½†ä¸æ˜¯å¼ºåˆ¶çš„ã€‚

**Q: Supabase å…è´¹å—ï¼Ÿ**

A: æ˜¯çš„ï¼ŒFree Plan æä¾›ï¼š

- 500MB æ•°æ®åº“å­˜å‚¨
- 5GB å¸¦å®½/æœˆ
- 60 ä¸ªå¹¶å‘è¿æ¥
- è¶³å¤Ÿä¸ªäººé¡¹ç›®å’Œ MVP ä½¿ç”¨

**Q: å¦‚ä½•æŸ¥çœ‹æ•°æ®åº“ä½¿ç”¨æƒ…å†µï¼Ÿ**

A: åœ¨ Supabase Dashboard â†’ Settings â†’ Database ä¸­æŸ¥çœ‹å­˜å‚¨ã€è¿æ¥æ•°ç­‰ç»Ÿè®¡ã€‚

**Q: ç”Ÿäº§ç¯å¢ƒéœ€è¦å‡çº§ Plan å—ï¼Ÿ**

A: å–å†³äºæµé‡ã€‚Free Plan å¯¹äºå°å‹é¡¹ç›®é€šå¸¸è¶³å¤Ÿã€‚å¦‚éœ€æ›´å¤šèµ„æºï¼Œå¯å‡çº§åˆ° Pro Planï¼ˆ$25/æœˆï¼‰ã€‚

### ç›¸å…³èµ„æº

- ğŸ“– [Supabase å®˜æ–¹æ–‡æ¡£](https://supabase.com/docs)
- ğŸ“– [Prisma + Supabase é›†æˆ](https://supabase.com/docs/guides/integrations/prisma)
- ğŸ“– [Vercel + Supabase éƒ¨ç½²](https://vercel.com/guides/using-supabase-with-vercel)

---

## ä¹‹å‰çš„æ›´æ–°è®°å½•

### 2025-01-15 - æ–‡æ¡£é‡ç»„

- âœ… å®Œæˆæ‰€æœ‰åŸºç¡€æ–‡æ¡£
- âœ… é‡æ–°ç»„ç»‡æ–‡æ¡£ç»“æ„
- âœ… ä½¿ç”¨ä¸­æ–‡å‘½å
- âœ… æ·»åŠ åˆ†ç±»å¯¼èˆª

---

**æœ€åæ›´æ–°**: 2025-01-15
**ç»´æŠ¤è€…**: é¡¹ç›®å›¢é˜Ÿ
